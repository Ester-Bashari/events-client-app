<div mat-dialog-md>
  @if (loginFormGroup && registerFormGroup) {
    <mat-tab-group [(selectedIndex)]="selectedTabIndex"
                   animationDuration="0">
      <mat-tab label="משתמש קיים">

        <form [formGroup]="loginFormGroup"
              (ngSubmit)="login()">
          <mat-dialog-content>
            @for (configs of loginFieldsConfigs; track configs) {
              <app-input-field [configs]="configs"></app-input-field>
            }
          </mat-dialog-content>
          <mat-dialog-actions align="end">
            <button mat-button
                    type="button"
                    (click)="close()">סגור
            </button>
            <button mat-flat-button
                    type="submit"
                    color="primary"
                    [disabled]="loginFormGroup.invalid">התחבר
            </button>
          </mat-dialog-actions>
        </form>

      </mat-tab>

      <mat-tab label="משתמש חדש">
        <form [formGroup]="registerFormGroup"
              (ngSubmit)="register()">
          <mat-dialog-content>
            @for (configs of registerFieldsConfigs; track configs) {
              <app-input-field [configs]="configs"></app-input-field>
            }
          </mat-dialog-content>
          <mat-dialog-actions align="end">
            <button mat-button
                    type="button"
                    (click)="close()">סגור
            </button>
            <button mat-flat-button
                    type="submit"
                    color="primary"
                    [disabled]="registerFormGroup.invalid">הירשם
            </button>
          </mat-dialog-actions>
        </form>

      </mat-tab>
    </mat-tab-group>
  }
</div>
